

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Dependencies &mdash; DataJoint Documentation matlab-v3.2 documentation</title>
  

  
    <link rel="apple-touch-icon" sizes="57x57" href="../_static/favicons/apple-icon-57x57.png"/>
    <link rel="apple-touch-icon" sizes="60x60" href="../_static/favicons/apple-icon-60x60.png"/>
    <link rel="apple-touch-icon" sizes="72x72" href="../_static/favicons/apple-icon-72x72.png"/>
    <link rel="apple-touch-icon" sizes="76x76" href="../_static/favicons/apple-icon-76x76.png"/>
    <link rel="apple-touch-icon" sizes="114x114" href="../_static/favicons/apple-icon-114x114.png"/>
    <link rel="apple-touch-icon" sizes="120x120" href="../_static/favicons/apple-icon-120x120.png"/>
    <link rel="apple-touch-icon" sizes="144x144" href="../_static/favicons/apple-icon-144x144.png"/>
    <link rel="apple-touch-icon" sizes="152x152" href="../_static/favicons/apple-icon-152x152.png"/>
    <link rel="apple-touch-icon", sizes="180x180", href="../_static/favicons/apple-touch-icon.png"/>
    <link rel="icon" type="image/png" sizes="192x192"  href="../_static/favicons/android-icon-192x192.png"/>
    <link rel="icon", type="image/png", sizes="32x32", href="../_static/favicons/favicon-32x32.png"/>
    <link rel="icon", type="image/png", sizes="96x96", href="../_static/favicons/favicon-96x96.png"/>
    <link rel="icon", type="image/png", sizes="16x16", href="../_static/favicons/favicon-16x16.png"/>
    <link rel="manifest", href="../_static/favicons/manifest.json"/>
    <link rel="mask-icon", href="../_static/favicons/safari-pinned-tab.svg", color="#5bbad5"/>
    <meta name="msapplication-TileImage" content="../_static/favicons/mstile-150X150.png"/>
    <meta name="theme-color", content="#ffffff"/>
  

  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../_static/css/dj_doc_theme.css" type="text/css" />
  
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Catamaran" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="DataJoint Documentation matlab-v3.2 documentation" href="../index.html"/>
        <link rel="up" title="Data Definition" href="Definition.html"/>
        <link rel="next" title="ERD" href="11-ERD.html"/>
        <link rel="prev" title="Primary Key" href="07-Primary-Key.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html">
          

          
            
            <img src="../_static/djDocsLogo.svg" class="logo" />
          
          </a>

          
           
            <span>
            <p class="thisVersion">matlab-v3.2</p> 
            
              <a href="../DataJointDocs_matlab-v3.2.pdf" download>&nbsp;
              <i class="fa fa-file-pdf-o" aria-hidden="true"></i></a>
            
            </span>
          
          
              <ul class="dropdown-versions">
                <li class="menu-text" onclick="dropmenu()">switch versions &nbsp;<i class="fa fa-caret-down" aria-hidden="true"></i></li>
                <div id="dropdown-menu" class="dd-content">
                <li class="version-menu"><a href="/python/v0.13">python-v0.13</a></li>
<li class="version-menu"><a href="/python/v0.12">python-v0.12</a></li>
<li class="version-menu"><a href="/python/v0.11">python-v0.11</a></li>
<li class="version-menu"><a href="/matlab/v3.4">matlab-v3.4</a></li>
<li class="version-menu"><a href="/matlab/v3.3">matlab-v3.3</a></li>
<li class="version-menu"><a href="/matlab/v3.2">matlab-v3.2</a></li>
                </div>
              </ul>
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../intro/Intro.html">Introduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../intro/01-Data-Pipelines.html">Data Pipelines</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../intro/01-Data-Pipelines.html#what-is-a-data-pipeline">What is a data pipeline?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../intro/01-Data-Pipelines.html#what-is-datajoint">What is DataJoint?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../intro/01-Data-Pipelines.html#how-datajoint-works">How DataJoint works</a></li>
<li class="toctree-l3"><a class="reference internal" href="../intro/01-Data-Pipelines.html#real-life-example">Real-life example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../intro/01-Data-Pipelines.html#summary-of-datajoint-features">Summary of DataJoint features</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../intro/02-Teamwork.html">Teamwork</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../intro/02-Teamwork.html#data-management-in-a-science-project">Data management in a science project</a></li>
<li class="toctree-l3"><a class="reference internal" href="../intro/02-Teamwork.html#data-centric-project-organization">Data-centric project organization</a></li>
<li class="toctree-l3"><a class="reference internal" href="../intro/02-Teamwork.html#team-roles">Team roles</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../intro/04-Input-and-Output.html">Input and Output</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../intro/04-Input-and-Output.html#where-are-my-data">Where are my data?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../intro/04-Input-and-Output.html#do-i-have-to-manually-enter-all-my-data-into-the-database">Do I have to manually enter all my data into the database?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../intro/04-Input-and-Output.html#won-t-the-database-get-too-big-if-all-my-data-are-there">Won’t the database get too big if all my data are there?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../intro/04-Input-and-Output.html#why-not-just-process-the-data-and-save-them-back-to-a-file">Why not just process the data and save them back to a file?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../intro/04-Input-and-Output.html#how-do-i-get-my-data-out">How do I get my data out?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../intro/04-Input-and-Output.html#interfaces">Interfaces</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../intro/05-Community.html">Community</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../intro/05-Community.html#multi-lab-collaboratives">Multi-lab collaboratives</a></li>
<li class="toctree-l3"><a class="reference internal" href="../intro/05-Community.html#invidiual-labs">Invidiual Labs</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../intro/06-Publications.html">Publications</a></li>
<li class="toctree-l2"><a class="reference internal" href="../intro/07-Publishing.html">Publishing Data</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../intro/07-Publishing.html#provide-access-to-a-datajoint-server">Provide access to a DataJoint server</a></li>
<li class="toctree-l3"><a class="reference internal" href="../intro/07-Publishing.html#containerizing-as-a-datajoint-pipeline">Containerizing as a DataJoint pipeline</a></li>
<li class="toctree-l3"><a class="reference internal" href="../intro/07-Publishing.html#exporting-into-a-collection-of-files">Exporting into a collection of files</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../intro/08-Progress.html">Progress</a></li>
<li class="toctree-l2"><a class="reference internal" href="../intro/09-License.html">License</a></li>
<li class="toctree-l2"><a class="reference internal" href="../intro/10-Issues.html">Issues</a></li>
<li class="toctree-l2"><a class="reference internal" href="../intro/11-Contribute.html">Contribute</a></li>
<li class="toctree-l2"><a class="reference internal" href="../intro/12-FAQs.html">FAQs</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../intro/12-FAQs.html#how-do-i-use-guis-with-datajoint">How do I use GUIs with DataJoint?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../intro/12-FAQs.html#does-datajoint-support-other-programming-languages">Does DataJoint support other programming languages?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../intro/12-FAQs.html#is-datajoint-another-orm">Is DataJoint another ORM?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../intro/12-FAQs.html#how-can-i-use-datajoint-with-a-lims">How can I use DataJoint with a LIMS?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../intro/12-FAQs.html#what-is-the-difference-between-datajoint-and-alyx">What is the difference between DataJoint and Alyx?</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../intro/13-Releases.html">Release Notes</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../admin/Admin.html">Server Administration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../admin/1-hosting.html">Database Server Hosting</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../admin/1-hosting.html#cloud-hosting">Cloud hosting</a></li>
<li class="toctree-l3"><a class="reference internal" href="../admin/1-hosting.html#self-hosting">Self hosting</a></li>
<li class="toctree-l3"><a class="reference internal" href="../admin/1-hosting.html#general-server-hardware-support-requirements">General server / hardware support requirements</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../admin/2-configuration.html">Relational Database Server</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../admin/2-configuration.html#hardware-considerations">Hardware considerations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../admin/2-configuration.html#cpu">CPU</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/2-configuration.html#ram">RAM</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/2-configuration.html#disk">Disk</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/2-configuration.html#networking">Networking</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/2-configuration.html#general-recommendations">General recommendations</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../admin/2-configuration.html#large-scale-installations">Large-scale installations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../admin/2-configuration.html#master-slave-replication">Master-slave replication</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/2-configuration.html#multi-master-replication">Multi-master replication</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../admin/2-configuration.html#recommendations">Recommendations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../admin/2-configuration.html#docker">Docker</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../admin/3-accounts.html">User Management</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../admin/3-accounts.html#grouping-with-wildcards">Grouping with Wildcards</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../admin/4-bulk.html">Bulk Storage Systems</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../admin/4-bulk.html#why-external-bulk-storage">Why External Bulk Storage?</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../admin/4-bulk.html#cost">Cost</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/4-bulk.html#flexibility">Flexibility</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/4-bulk.html#performance">Performance</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/4-bulk.html#data-sharing">Data Sharing</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../admin/4-bulk.html#bulk-storage-scenarios">Bulk Storage Scenarios</a></li>
<li class="toctree-l3"><a class="reference internal" href="../admin/4-bulk.html#bulk-storage-considerations">Bulk Storage Considerations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../admin/4-bulk.html#performance-characteristics">Performance Characteristics</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/4-bulk.html#network-traffic">Network Traffic</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/4-bulk.html#data-coherency">Data Coherency</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../admin/5-blob-config.html">External Store</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../admin/5-blob-config.html#principles-of-operation">Principles of operation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../admin/5-blob-config.html#configuration">Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../admin/5-blob-config.html#cleanup">Cleanup</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../admin/6-backup.html">Backups and Recovery</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../admin/6-backup.html#cloud-hosted-backups">Cloud hosted backups</a></li>
<li class="toctree-l3"><a class="reference internal" href="../admin/6-backup.html#disk-based-backup">Disk-based backup</a></li>
<li class="toctree-l3"><a class="reference internal" href="../admin/6-backup.html#mysqldump">MySQLDump</a></li>
<li class="toctree-l3"><a class="reference internal" href="../admin/6-backup.html#percona-xtrabackup">Percona XTraBackup</a></li>
<li class="toctree-l3"><a class="reference internal" href="../admin/6-backup.html#locking-and-ddl-issues">Locking and DDL issues</a></li>
<li class="toctree-l3"><a class="reference internal" href="../admin/6-backup.html#replication-and-snapshots-for-backup">Replication and snapshots for backup</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../setup/Setup.html">Client Setup</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../setup/01-Install-and-Connect.html">Install and Connect</a></li>
<li class="toctree-l2"><a class="reference internal" href="../setup/02-DataJoint-Python-Windows-Install-Guide.html">DataJoint Python Windows Install Guide</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../setup/02-DataJoint-Python-Windows-Install-Guide.html#quick-steps">Quick steps</a></li>
<li class="toctree-l3"><a class="reference internal" href="../setup/02-DataJoint-Python-Windows-Install-Guide.html#step-1-install-python">Step 1: install Python</a></li>
<li class="toctree-l3"><a class="reference internal" href="../setup/02-DataJoint-Python-Windows-Install-Guide.html#step-2-verify-installation">Step 2: verify installation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../setup/02-DataJoint-Python-Windows-Install-Guide.html#step-3-install-datajoint">Step 3: install DataJoint</a></li>
<li class="toctree-l3"><a class="reference internal" href="../setup/02-DataJoint-Python-Windows-Install-Guide.html#optional-step-4-install-packages-for-erd-support">(Optional) step 4: install packages for ERD support</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../setup/02-DataJoint-Python-Windows-Install-Guide.html#install-graphviz">Install Graphviz</a></li>
<li class="toctree-l4"><a class="reference internal" href="../setup/02-DataJoint-Python-Windows-Install-Guide.html#install-pydotplus">Install PyDotPlus</a></li>
<li class="toctree-l4"><a class="reference internal" href="../setup/02-DataJoint-Python-Windows-Install-Guide.html#install-matplotlib">Install Matplotlib</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../setup/02-DataJoint-Python-Windows-Install-Guide.html#optional-step-5-install-jupyter-notebook">(Optional) step 5: install Jupyter Notebook</a></li>
<li class="toctree-l3"><a class="reference internal" href="../setup/02-DataJoint-Python-Windows-Install-Guide.html#git-for-windows">Git for Windows</a></li>
<li class="toctree-l3"><a class="reference internal" href="../setup/02-DataJoint-Python-Windows-Install-Guide.html#mysql-for-windows">MySQL for Windows</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../concepts/Concepts.html">Concepts</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../concepts/01-Data-Model.html">Data Model</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../concepts/01-Data-Model.html#what-is-a-data-model">What is a data model?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../concepts/01-Data-Model.html#relational-data-model">Relational data model</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../concepts/01-Data-Model.html#core-principles-of-the-relational-data-model">Core principles of the relational data model</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../concepts/01-Data-Model.html#datajoint-is-a-refinement-of-the-relational-data-model">DataJoint is a refinement of the relational data model</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../concepts/02-Terminology.html">Terminology</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../concepts/02-Terminology.html#datajoint-databases-schemas-packages-and-modules">DataJoint: databases, schemas, packages, and modules</a></li>
<li class="toctree-l3"><a class="reference internal" href="../concepts/02-Terminology.html#base-tables">Base tables</a></li>
<li class="toctree-l3"><a class="reference internal" href="../concepts/02-Terminology.html#relvars-and-relation-values">Relvars and relation values</a></li>
<li class="toctree-l3"><a class="reference internal" href="../concepts/02-Terminology.html#metadata">Metadata</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../concepts/03-Normalization.html">Entity Normalization</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../concepts/03-Normalization.html#criteria-of-a-well-formed-entity-set">Criteria of a well-formed entity set</a></li>
<li class="toctree-l3"><a class="reference internal" href="../concepts/03-Normalization.html#entity-normalization-in-schema-design">Entity normalization in schema design</a></li>
<li class="toctree-l3"><a class="reference internal" href="../concepts/03-Normalization.html#entity-normalization-in-data-queries">Entity normalization in data queries</a></li>
<li class="toctree-l3"><a class="reference internal" href="../concepts/03-Normalization.html#examples-of-poor-normalization">Examples of poor normalization</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../concepts/03-Normalization.html#indirect-attributes">Indirect attributes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../concepts/03-Normalization.html#repeated-attributes">Repeated attributes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../concepts/03-Normalization.html#attributes-that-do-not-apply-to-all-entities">Attributes that do not apply to all entities</a></li>
<li class="toctree-l4"><a class="reference internal" href="../concepts/03-Normalization.html#transient-attributes">Transient attributes</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../concepts/04-Integrity.html">Data Integrity</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../concepts/04-Integrity.html#entity-integrity">Entity integrity</a></li>
<li class="toctree-l3"><a class="reference internal" href="../concepts/04-Integrity.html#referential-integrity">Referential integrity</a></li>
<li class="toctree-l3"><a class="reference internal" href="../concepts/04-Integrity.html#group-integrity">Group integrity</a></li>
<li class="toctree-l3"><a class="reference internal" href="../concepts/04-Integrity.html#relationships">Relationships</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="Definition.html">Data Definition</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="01-Creating-Schemas.html">Creating Schemas</a><ul>
<li class="toctree-l3"><a class="reference internal" href="01-Creating-Schemas.html#schemas">Schemas</a><ul>
<li class="toctree-l4"><a class="reference internal" href="01-Creating-Schemas.html#manual">Manual</a></li>
<li class="toctree-l4"><a class="reference internal" href="01-Creating-Schemas.html#automatic">Automatic</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="01-Creating-Schemas.html#working-with-existing-data">Working with existing data</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="02-Creating-Tables.html">Creating Tables</a><ul>
<li class="toctree-l3"><a class="reference internal" href="02-Creating-Tables.html#classes-represent-tables">Classes represent tables</a><ul>
<li class="toctree-l4"><a class="reference internal" href="02-Creating-Tables.html#data-tiers">Data tiers</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="02-Creating-Tables.html#defining-a-table">Defining a table</a></li>
<li class="toctree-l3"><a class="reference internal" href="02-Creating-Tables.html#valid-class-names">Valid class names</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="03-Table-Definition.html">Table Definition</a><ul>
<li class="toctree-l3"><a class="reference internal" href="03-Table-Definition.html#table-creation-on-the-database-server">Table creation on the database server</a></li>
<li class="toctree-l3"><a class="reference internal" href="03-Table-Definition.html#changing-the-definition-of-an-existing-table">Changing the definition of an existing table</a></li>
<li class="toctree-l3"><a class="reference internal" href="03-Table-Definition.html#reverse-engineering-the-table-definition">Reverse-engineering the table definition</a><ul>
<li class="toctree-l4"><a class="reference internal" href="03-Table-Definition.html#examples">Examples</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="04-Definition-Syntax.html">Definition Syntax</a><ul>
<li class="toctree-l3"><a class="reference internal" href="04-Definition-Syntax.html#attribute-names">Attribute names</a></li>
<li class="toctree-l3"><a class="reference internal" href="04-Definition-Syntax.html#default-values">Default values</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="05-Data-Tiers.html">Data Tiers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="05-Data-Tiers.html#internal-conventions-for-naming-tables">Internal conventions for naming tables</a></li>
<li class="toctree-l3"><a class="reference internal" href="05-Data-Tiers.html#part-tables">Part tables</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="06-Datatypes.html">Datatypes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="06-Datatypes.html#most-common-datatypes">Most common datatypes</a></li>
<li class="toctree-l3"><a class="reference internal" href="06-Datatypes.html#less-common-but-supported-datatypes">Less common (but supported) datatypes</a></li>
<li class="toctree-l3"><a class="reference internal" href="06-Datatypes.html#datatypes-not-yet-supported">Datatypes not (yet) supported</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="07-Primary-Key.html">Primary Key</a><ul>
<li class="toctree-l3"><a class="reference internal" href="07-Primary-Key.html#primary-keys-in-datajoint">Primary keys in DataJoint</a></li>
<li class="toctree-l3"><a class="reference internal" href="07-Primary-Key.html#defining-a-primary-key">Defining a primary key</a></li>
<li class="toctree-l3"><a class="reference internal" href="07-Primary-Key.html#entity-integrity">Entity integrity</a></li>
<li class="toctree-l3"><a class="reference internal" href="07-Primary-Key.html#datatypes-in-primary-keys">Datatypes in primary keys</a></li>
<li class="toctree-l3"><a class="reference internal" href="07-Primary-Key.html#choosing-primary-key-attributes">Choosing primary key attributes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="07-Primary-Key.html#using-hashes-as-primary-keys">Using hashes as primary keys</a></li>
<li class="toctree-l4"><a class="reference internal" href="07-Primary-Key.html#auto-increment"><code class="docutils literal notranslate"><span class="pre">auto_increment</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Dependencies</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#understanding-dependencies">Understanding dependencies</a></li>
<li class="toctree-l3"><a class="reference internal" href="#defining-a-dependency">Defining a dependency</a></li>
<li class="toctree-l3"><a class="reference internal" href="#how-dependencies-work">How dependencies work</a></li>
<li class="toctree-l3"><a class="reference internal" href="#referential-integrity">Referential integrity</a></li>
<li class="toctree-l3"><a class="reference internal" href="#dependencies-with-renamed-attributes">Dependencies with renamed attributes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#foreign-key-options">Foreign key options</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="11-ERD.html">ERD</a><ul>
<li class="toctree-l3"><a class="reference internal" href="11-ERD.html#diagram-notation">Diagram notation</a></li>
<li class="toctree-l3"><a class="reference internal" href="11-ERD.html#diagramming-an-entire-schema">Diagramming an entire schema</a><ul>
<li class="toctree-l4"><a class="reference internal" href="11-ERD.html#initializing-with-a-single-table">Initializing with a single table</a></li>
<li class="toctree-l4"><a class="reference internal" href="11-ERD.html#adding-erds-together">Adding ERDs together</a></li>
<li class="toctree-l4"><a class="reference internal" href="11-ERD.html#expanding-erds-upstream-and-downstream">Expanding ERDs upstream and downstream</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="12-Example.html">Manual Tables</a></li>
<li class="toctree-l2"><a class="reference internal" href="13-Lookup-Tables.html">Lookup Tables</a></li>
<li class="toctree-l2"><a class="reference internal" href="14-Drop.html">Drop</a><ul>
<li class="toctree-l3"><a class="reference internal" href="14-Drop.html#dropping-part-tables">Dropping part tables</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../existing/Existing.html">Work with Existing Pipelines</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../existing/1-Virtual-Modules.html">Virtual Modules</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../manipulation/Manipulation.html">Data Manipulation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../manipulation/0-Manipulation.html">Manipulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../manipulation/1-Insert.html">Insert</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../manipulation/1-Insert.html#batched-inserts">Batched inserts</a></li>
<li class="toctree-l3"><a class="reference internal" href="../manipulation/1-Insert.html#server-side-inserts">Server-side inserts</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../manipulation/2-Delete.html">Delete</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../manipulation/2-Delete.html#examples">Examples</a></li>
<li class="toctree-l3"><a class="reference internal" href="../manipulation/2-Delete.html#deleting-from-part-tables">Deleting from part tables</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../manipulation/3-Cautious-Update.html">Cautious Update</a></li>
<li class="toctree-l2"><a class="reference internal" href="../manipulation/4-Transactions.html">Transactions</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../queries/Queries.html">Queries</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../queries/01-Queries.html">Query Objects</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../queries/01-Queries.html#checking-for-returned-entities">Checking for returned entities</a></li>
<li class="toctree-l3"><a class="reference internal" href="../queries/01-Queries.html#normalization-in-queries">Normalization in queries</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../queries/02-Example-Schema.html">Example Schema</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../queries/02-Example-Schema.html#example-schema-erd">Example schema ERD</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../queries/03-Fetch.html">Fetch</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../queries/03-Fetch.html#fetch-the-primary-key">Fetch the primary key</a></li>
<li class="toctree-l3"><a class="reference internal" href="../queries/03-Fetch.html#fetch-entire-query">Fetch entire query</a></li>
<li class="toctree-l3"><a class="reference internal" href="../queries/03-Fetch.html#as-separate-variables">As separate variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="../queries/03-Fetch.html#obtaining-the-primary-key-along-with-individual-values">Obtaining the primary key along with individual values</a></li>
<li class="toctree-l3"><a class="reference internal" href="../queries/03-Fetch.html#rename-and-calculate">Rename and calculate</a></li>
<li class="toctree-l3"><a class="reference internal" href="../queries/03-Fetch.html#sorting-and-limiting-the-results">Sorting and limiting the results</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../queries/04-Iteration.html">Iteration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../queries/05-Operators.html">Operators</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../queries/05-Operators.html#principles-of-relational-algebra">Principles of relational algebra</a></li>
<li class="toctree-l3"><a class="reference internal" href="../queries/05-Operators.html#matching-entities">Matching entities</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../queries/05-Operators.html#examples">Examples</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../queries/05-Operators.html#join-compatibility">Join compatibility</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../queries/06-Restriction.html">Restriction</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../queries/06-Restriction.html#restriction-operators-and">Restriction operators <code class="docutils literal notranslate"><span class="pre">&amp;</span></code> and <code class="docutils literal notranslate"><span class="pre">-</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../queries/06-Restriction.html#restriction-by-a-table">Restriction by a table</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../queries/06-Restriction.html#restriction-by-a-table-with-no-common-attributes">Restriction by a table with no common attributes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../queries/06-Restriction.html#restriction-by-an-empty-table">Restriction by an empty table</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../queries/06-Restriction.html#restriction-by-a-mapping">Restriction by a mapping</a></li>
<li class="toctree-l3"><a class="reference internal" href="../queries/06-Restriction.html#restriction-by-a-string">Restriction by a string</a></li>
<li class="toctree-l3"><a class="reference internal" href="../queries/06-Restriction.html#restriction-by-a-collection">Restriction by a collection</a></li>
<li class="toctree-l3"><a class="reference internal" href="../queries/06-Restriction.html#restriction-by-a-boolean-expression">Restriction by a Boolean expression</a></li>
<li class="toctree-l3"><a class="reference internal" href="../queries/06-Restriction.html#restriction-by-a-query">Restriction by a query</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../queries/07-Join.html">Join</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../queries/07-Join.html#join-operator">Join operator <code class="docutils literal notranslate"><span class="pre">*</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../queries/07-Join.html#principles-of-joins">Principles of joins</a></li>
<li class="toctree-l4"><a class="reference internal" href="../queries/07-Join.html#examples-of-joins">Examples of joins</a></li>
<li class="toctree-l4"><a class="reference internal" href="../queries/07-Join.html#properties-of-join">Properties of join</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../queries/08-Proj.html">Proj</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../queries/08-Proj.html#simple-projection">Simple projection</a></li>
<li class="toctree-l3"><a class="reference internal" href="../queries/08-Proj.html#renaming">Renaming</a></li>
<li class="toctree-l3"><a class="reference internal" href="../queries/08-Proj.html#calculations">Calculations</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../queries/09-Aggr.html">Aggr</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../queries/09-Aggr.html#examples">Examples</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../queries/10-Union.html">Union</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../queries/10-Union.html#union-operator">Union operator <code class="docutils literal notranslate"><span class="pre">+</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../queries/10-Union.html#principles-of-union">Principles of union</a></li>
<li class="toctree-l4"><a class="reference internal" href="../queries/10-Union.html#examples-of-union">Examples of union</a></li>
<li class="toctree-l4"><a class="reference internal" href="../queries/10-Union.html#properties-of-union">Properties of union</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../queries/11-Universal-Sets.html">Universal Sets</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../computation/Computation.html">Computation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../computation/01-autopopulate.html">Auto-populate</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../computation/01-autopopulate.html#make">Make</a></li>
<li class="toctree-l3"><a class="reference internal" href="../computation/01-autopopulate.html#populate">Populate</a></li>
<li class="toctree-l3"><a class="reference internal" href="../computation/01-autopopulate.html#populate-options">Populate options</a></li>
<li class="toctree-l3"><a class="reference internal" href="../computation/01-autopopulate.html#progress">Progress</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../computation/02-keysource.html">Key Source</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../computation/02-keysource.html#default-key-source">Default key source</a></li>
<li class="toctree-l3"><a class="reference internal" href="../computation/02-keysource.html#custom-key-source">Custom key source</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../computation/03-master-part.html">Master-Part Relationship</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../computation/03-master-part.html#populating">Populating</a></li>
<li class="toctree-l3"><a class="reference internal" href="../computation/03-master-part.html#deleting">Deleting</a></li>
<li class="toctree-l3"><a class="reference internal" href="../computation/03-master-part.html#multiple-parts">Multiple parts</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../computation/04-transactions.html">Transactions in Make</a></li>
<li class="toctree-l2"><a class="reference internal" href="../computation/05-distributed-computing.html">Distributed Computing</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../computation/05-distributed-computing.html#job-reservations">Job reservations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../computation/05-distributed-computing.html#managing-connections">Managing connections</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">DataJoint Documentation</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="Definition.html">Data Definition</a> &raquo;</li>
        
      <li>Dependencies</li>
    
    
      <li class="wy-breadcrumbs-aside">
      <!--  -->
        <!-- <p class="thisVersion">matlab-v3.2</p> -->
      <!--  -->
      <a href="http://datajoint.io" target="_blank">
        <img id="breadcrumbsThumbnail" src="../_static/themeImages/datajointIOfull.svg">
      </a>
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>This is no longer maintained and has been superseded by <a class="reference external" href="https://github.com/datajoint-company/datajoint-docs">datajoint-company/datajoint-docs</a>. Please file new issues there (or help contribute!). We are currently migrating and generating new content until December 2022 after which we’ll be decomissioning <a class="reference external" href="https://docs.datajoint.org">https://docs.datajoint.org</a> and <a class="reference external" href="https://tutorials.datajoint.org">https://tutorials.datajoint.org</a> in favor of <a class="reference external" href="https://datajoint.com/docs/">https://datajoint.com/docs/</a>.</p>
</div>
<section id="dependencies">
<span id="id1"></span><h1>Dependencies<a class="headerlink" href="#dependencies" title="Permalink to this headline">¶</a></h1>
<section id="understanding-dependencies">
<h2>Understanding dependencies<a class="headerlink" href="#understanding-dependencies" title="Permalink to this headline">¶</a></h2>
<p>A schema contains collections of tables of related data.
Accordingly, entities in one table often derive some of their meaning or context from entities in other tables.
A <strong>foreign key</strong> defines a <strong>dependency</strong> of entities in one table on entities in another within a schema.
In more complex designs, dependencies can even exist between entities in tables from different schemas.
Dependencies play a functional role in DataJoint and do not simply label the structure of a pipeline.
Dependencies provide entities in one table with access to data in another table and establish certain constraints on entities containing a foreign key.</p>
<p>A DataJoint pipeline, including the dependency relationships established by foreign keys, can be visualized as a graph with nodes and edges.
The diagram of such a graph is called the <strong>entity relationship diagram</strong> or <a class="reference internal" href="11-ERD.html#erd"><span class="std std-ref">ERD</span></a>.
The nodes of the graph are tables and the edges connecting them are foreign keys.
The edges are directed and the overall graph is a <strong>directed acyclic graph</strong>, a graph with no loops.</p>
<p>For example, the ERD below is the pipeline for multipatching experiments</p>
<img alt="../_images/mp-erd.png" src="../_images/mp-erd.png" />
<p>The graph defines the direction of the workflow.
The tables at the top of the flow need to be populated first, followed by those tables one step below and so forth until the last table is populated at the bottom of the pipeline.
The top of the pipeline tends to be dominated by lookup tables (gray stars) and manual tables (green squares).
The middle has many imported tables (blue triangles), and the bottom has computed tables (red stars).</p>
</section>
<section id="defining-a-dependency">
<h2>Defining a dependency<a class="headerlink" href="#defining-a-dependency" title="Permalink to this headline">¶</a></h2>
<p>Foreign keys are defined with arrows <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> in the <a class="reference internal" href="03-Table-Definition.html#definitions"><span class="std std-ref">table definition</span></a>, pointing to another table.</p>
<p>A foreign key may be defined as part of the <a class="reference internal" href="07-Primary-Key.html#primary-key"><span class="std std-ref">Primary Key</span></a>.</p>
<p>In the ERD, foreign keys from the primary key are shown as solid lines.
This means that the primary key of the referenced table becomes part of the primary key of the new table.
A foreign key outside the primary key is indicated by dashed line in the ERD.</p>
<p>For example, the following definition for the table <code class="docutils literal notranslate"><span class="pre">mp.Slice</span></code> has three foreign keys, including one within the primary key.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span># brain slice
-&gt; mp.Subject
slice_id        : smallint       # slice number within subject
---
-&gt; mp.BrainRegion
-&gt; mp.Plane
slice_date        : date                 # date of the slicing (not patching)
thickness         : smallint unsigned    # slice thickness in microns
experimenter      : varchar(20)          # person who performed this experiment
</pre></div>
</div>
<p>You can examine the resulting table heading with</p>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="n">show</span><span class="p">(</span><span class="n">mp</span><span class="p">.</span><span class="n">BrainSlice</span><span class="p">)</span><span class="w"></span>
</pre></div>
</div>
<p>The heading of <code class="docutils literal notranslate"><span class="pre">mp.Slice</span></code> may look something like</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>subject_id      : char(8)        # experiment subject id
slice_id        : smallint       # slice number within subject
---
brain_region        : varchar(12)        # abbreviated name for brain region
plane               : varchar(12)        # plane of section
slice_date          : date               # date of the slicing (not patching)
thickness           : smallint unsigned  # slice thickness in microns
experimenter        : varchar(20)        # person who performed this experiment
</pre></div>
</div>
<p>This displayed heading reflects the actual attributes in the table.
The foreign keys have been replaced by the primary key attributes of the referenced tables, including their data types and comments.</p>
</section>
<section id="how-dependencies-work">
<h2>How dependencies work<a class="headerlink" href="#how-dependencies-work" title="Permalink to this headline">¶</a></h2>
<p>The foreign key <code class="docutils literal notranslate"><span class="pre">-&gt;</span> <span class="pre">A</span></code> in the definition of table <code class="docutils literal notranslate"><span class="pre">B</span></code> has the following effects:</p>
<ol class="arabic simple">
<li><p>The primary key attributes of <code class="docutils literal notranslate"><span class="pre">A</span></code> are made part of <code class="docutils literal notranslate"><span class="pre">B</span></code>’s definition.</p></li>
<li><p>A referential constraint is created in <code class="docutils literal notranslate"><span class="pre">B</span></code> with reference to <code class="docutils literal notranslate"><span class="pre">A</span></code>.</p></li>
<li><p>If one does not already exist, an index is created to speed up searches in <code class="docutils literal notranslate"><span class="pre">B</span></code> for matches to <code class="docutils literal notranslate"><span class="pre">A</span></code>.
(The reverse search is already fast because it uses the primary key of <code class="docutils literal notranslate"><span class="pre">A</span></code>.)</p></li>
</ol>
<p>A referential constraint means that an entity in <code class="docutils literal notranslate"><span class="pre">B</span></code> cannot exist without a matching entity in <code class="docutils literal notranslate"><span class="pre">A</span></code>.
<strong>Matching</strong> means attributes in <code class="docutils literal notranslate"><span class="pre">B</span></code> that correspond to the primary key of <code class="docutils literal notranslate"><span class="pre">A</span></code> must have the same values.
An attempt to insert an entity into <code class="docutils literal notranslate"><span class="pre">B</span></code> that does not have a matching counterpart in <code class="docutils literal notranslate"><span class="pre">A</span></code> will fail.
Conversely, deleting an entity from <code class="docutils literal notranslate"><span class="pre">A</span></code> that has matching entities in <code class="docutils literal notranslate"><span class="pre">B</span></code> will result in the deletion of those matching entities and so forth, recursively, downstream in the pipeline.</p>
<p>When <code class="docutils literal notranslate"><span class="pre">B</span></code> references <code class="docutils literal notranslate"><span class="pre">A</span></code> with a foreign key, one can say that <code class="docutils literal notranslate"><span class="pre">B</span></code> <strong>depends</strong> on <code class="docutils literal notranslate"><span class="pre">A</span></code>.
In DataJoint terms, <code class="docutils literal notranslate"><span class="pre">B</span></code> is the <strong>dependent table</strong> and <code class="docutils literal notranslate"><span class="pre">A</span></code> is the <strong>referenced table</strong> with respect to the foreign key from <code class="docutils literal notranslate"><span class="pre">B</span></code> to <code class="docutils literal notranslate"><span class="pre">A</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Note to those already familiar with the theory of relational databases: The usage of the words “depends” and “dependency” here should not be confused with the unrelated concept of <em>functional dependencies</em> that is used to define normal forms.</p>
</div>
</section>
<section id="referential-integrity">
<h2>Referential integrity<a class="headerlink" href="#referential-integrity" title="Permalink to this headline">¶</a></h2>
<p>Dependencies enforce the desired property of databases known as <strong>referential integrity</strong>.
Referential integrity is the guarantee made by the data management process that related data across the database remain present, correctly associated, and mutually consistent.
Guaranteeing referential integrity means enforcing the constraint that no entity can exist in the database without all the other entities on which it depends.
An entity in table <code class="docutils literal notranslate"><span class="pre">B</span></code> depends on an entity in table <code class="docutils literal notranslate"><span class="pre">A</span></code> when they belong to them or are computed from them.</p>
</section>
<section id="dependencies-with-renamed-attributes">
<h2>Dependencies with renamed attributes<a class="headerlink" href="#dependencies-with-renamed-attributes" title="Permalink to this headline">¶</a></h2>
<p>In most cases, a dependency includes the primary key attributes of the referenced table as they appear in its table definition.
Sometimes it can be helpful to choose a new name for a foreign key attribute that better fits the context of the dependent table.
DataJoint provides the following <a class="reference internal" href="../queries/08-Proj.html#proj"><span class="std std-ref">projection</span></a> syntax to rename the primary key attributes when they are included in the new table.</p>
<p>The dependency</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>-&gt;  Table.project(new_attr=&#39;old_attr&#39;)
</pre></div>
</div>
<p>renames the primary key attribute <code class="docutils literal notranslate"><span class="pre">old_attr</span></code> of <code class="docutils literal notranslate"><span class="pre">Table</span></code> as <code class="docutils literal notranslate"><span class="pre">new_attr</span></code> before integrating it into the table definition.
Any additional primary key attributes will retain their original names.
For example, the table <code class="docutils literal notranslate"><span class="pre">Experiment</span></code> may depend on table <code class="docutils literal notranslate"><span class="pre">User</span></code> but rename the <code class="docutils literal notranslate"><span class="pre">user</span></code> attribute into <code class="docutils literal notranslate"><span class="pre">operator</span></code> as follows:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>-&gt; User.proj(operator=&#39;user&#39;)
</pre></div>
</div>
<p>In the above example, an entity in the dependent table depends on exactly one entity in the referenced table.
Sometimes entities may depend on multiple entities from the same table.
Such a design requires a way to distinguish between dependent attributes having the same name in the reference table.
For example, a table for <code class="docutils literal notranslate"><span class="pre">Synapse</span></code> may reference the table <code class="docutils literal notranslate"><span class="pre">Cell</span></code> twice as <code class="docutils literal notranslate"><span class="pre">presynaptic</span></code> and <code class="docutils literal notranslate"><span class="pre">postsynaptic</span></code>.
The table definition may appear as</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span># synapse between two cells
-&gt; Cell.proj(presynaptic=&#39;cell_id&#39;)
-&gt; Cell.proj(postsynaptic=&#39;cell_id&#39;)
---
connection_strength : double  # (pA) peak synaptic current
</pre></div>
</div>
<p>If the primary key of <code class="docutils literal notranslate"><span class="pre">Cell</span></code> is (<code class="docutils literal notranslate"><span class="pre">animal_id</span></code>, <code class="docutils literal notranslate"><span class="pre">slice_id</span></code>, <code class="docutils literal notranslate"><span class="pre">cell_id</span></code>), then the primary key of <code class="docutils literal notranslate"><span class="pre">Synapse</span></code> resulting from the above definition will be (<code class="docutils literal notranslate"><span class="pre">animal_id</span></code>, <code class="docutils literal notranslate"><span class="pre">slice_id</span></code>, <code class="docutils literal notranslate"><span class="pre">presynaptic</span></code>, <code class="docutils literal notranslate"><span class="pre">postsynaptic</span></code>).
Projection always returns all of the primary key attributes of a table, so <code class="docutils literal notranslate"><span class="pre">animal_id</span></code> and <code class="docutils literal notranslate"><span class="pre">slice_id</span></code> are included, with their original names.</p>
<p>Note that the design of the <code class="docutils literal notranslate"><span class="pre">Synapse</span></code> table above imposes the constraint that the synapse can only be found between cells in the same animal and in the same slice.</p>
<p>Allowing representation of synapses between cells from different slices requires the renamimg of <code class="docutils literal notranslate"><span class="pre">slice_id</span></code> as well:
.. code-block:: text</p>
<blockquote>
<div><p># synapse between two cells
-&gt; Cell(presynaptic_slice=’slice_id’, presynaptic_cell=’cell_id’)
-&gt; Cell(postsynaptic_slice=’slice_id’, postsynaptic_cell=’cell_id’)
—
connection_strength : double  # (pA) peak synaptic current</p>
</div></blockquote>
<p>In this case, the primary key of <code class="docutils literal notranslate"><span class="pre">Synapse</span></code> will be (<code class="docutils literal notranslate"><span class="pre">animal_id</span></code>, <code class="docutils literal notranslate"><span class="pre">presynaptic_slice</span></code>, <code class="docutils literal notranslate"><span class="pre">presynaptic_cell</span></code>, <code class="docutils literal notranslate"><span class="pre">postsynaptic_slice</span></code>, <code class="docutils literal notranslate"><span class="pre">postsynaptic_cell</span></code>).
This primary key still imposes the constraint that synapses can only form between cells within the same animal but now allows connecting cells across different slices.</p>
<p>In the ERD, renamed foreign keys are shown as red lines with an additional dot node in the middle to indicate that a renaming took place.</p>
</section>
<section id="foreign-key-options">
<h2>Foreign key options<a class="headerlink" href="#foreign-key-options" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Foreign key options are currently in development.</p>
</div>
<p>Foreign keys allow the additional options <code class="docutils literal notranslate"><span class="pre">nullable</span></code> and <code class="docutils literal notranslate"><span class="pre">unique</span></code>, which can be inserted in square brackets following the arrow.</p>
<p>For example, in the following table definition</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>rig_id  : char(4)   # experimental rig
---
-&gt; Person
</pre></div>
</div>
<p>each rig belongs to a person, but the table definition does not prevent one person owning multiple rigs.
With the <code class="docutils literal notranslate"><span class="pre">unique</span></code> option, a person may only appear once in the entire table, which means that no one person can own more than one rig.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>rig_id  : char(4)   # experimental rig
---
-&gt; [unique] Person
</pre></div>
</div>
<p>With the <code class="docutils literal notranslate"><span class="pre">nullable</span></code> option, a rig may not belong to anyone, in which case the foreign key attributes for <code class="docutils literal notranslate"><span class="pre">Person</span></code> are set to <code class="docutils literal notranslate"><span class="pre">NULL</span></code>:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>rig_id  : char(4)   # experimental rig
---
-&gt; [nullable] Person
</pre></div>
</div>
<p>Finally with both <cite>unique</cite> and <cite>nullable</cite>, a rig may or may not be owned by anyone and each person may own up to one rig.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>rig_id  : char(4)   # experimental rig
---
-&gt; [unique, nullable] Person
</pre></div>
</div>
<p>Foreign keys made from the primary key cannot be nullable but may be unique.</p>
</section>
</section>


            <a class="community-guide-tab" target="_blank" href="https://datajoint.slack.com/join/shared_invite/enQtMjkwNjQxMjI5MDk0LWIzN2ExYzBiM2NlODQxN2YxODAxNWQwOWVkNjVmZDkzYzEwMjM5OWJkM2EwYTRhYmRiZDgxMjUzYjBlZWVjMzA">
              <div>
                Talk to the Community
              </div>
            </a>
           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="11-ERD.html" class="btn btn-neutral float-right" title="ERD" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="07-Primary-Key.html" class="btn btn-neutral" title="Primary Key" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017-2022, DataJoint.
    <a href="http://tutorials.datajoint.io" target="_blank">
      <img id="footerThumbnail" src="../_static/themeImages/djTutorialLogo.svg">
    </a>
    <br />
    <a href="https://datajoint.io" target="_blank">DataJoint.io</a>
    </p>

  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  
  <script type="text/javascript" src="../_static/js/dropdown.js"></script>

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>